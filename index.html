<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Playa Juan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Estilos externos -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.css">
  <!-- Scripts externos -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
    window.initializeFirebase = function(config) {
      const app = initializeApp(config);
      return getDatabase(app);
    };
  </script>
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="./style.css">
  <link rel="manifest" href="/manifest.json">
</head>
<body>

<div class="left_panel">
  <h3>Playa&nbsp;Juan</h3>
  <div id="current_date"></div>
  <script>
    const date = new Date();
    const year = date.getFullYear();
    const month = date.getMonth() + 1;
    const day = date.getDate();
    document.getElementById("current_date").innerHTML = `${day}/${month}/${year}`;
  </script>
<br><br>
  <button class="button" onclick="SunbedController.reset_local_storage_except_customers(); ">Reset Colors</button>
  <br><br><br>
  <button class="button" onclick="toggleDesconectadosFila0(1)">Fila0</button>
  <br><br>
  <button class="button" onclick="toggledesconectadosFila1(1)">Fila1</button>
  <br><br>
  <button class="button" onclick="toggledesconectadosFila2(1)">Fila2</button>
  <br><br>
  <button class="button" onclick="toggledesconectadosFila3(1)">Fila3</button>
  <br><br>
  <button class="button" onclick="toggledesconectadosFila4(1)">Fila4</button>
  <br><br>
  <button class="button" onclick="toggleDesconectadosFila8(1)">Fila8</button>
  <br><br>
  <button class="button" onclick="toggleZonalibre()">ZonaLibre1</button>
  <br><br>
  <button class="button" onclick="toggleZonalibre2(1)">ZonaLibre2</button>
  <br><br>
  <button class="button" onclick="toggleclon10A(1)">Clon10A</button>
  <br><br>
  <button class="button" onclick="toggleclon0(1)">Clon0</button>
  <br><br>
  <button class="button" onclick="toggleCircles()">Sombrillas</button>

<br><br>
  <button class="button" onclick="clearClick(1)">Reset Local Storage</button>
</div>

<div class="beach_wrapper">
  <div class="sunbed toggle">
    <label class="sunbed_name"></label>
    <div>
      <form class="form">
        <input type="text" class="customer_name">
      </form>
    </div>
    <!-- Aquí añades el círculo -->
   <div class="circle toggle" id="circle1" data-actual-step="0"></div>
<div class="circle toggle" id="circle2" data-actual-step="0"></div>
<div class="circle toggle" id="circle3" data-actual-step="0"></div>
<!-- Puedes agregar más círculos según lo necesites -->
<!-- Agrega más círculos según sea necesario -->
  </div>
  <!-- Repite la estructura para más hamacas -->



  <!-- Calculadora de cobro -->
<!-- Calculadora de cobro -->
<div class="calculator-footer">
  <h2>Cobro</h2>

  <label for="hamaca">Hamaca:</label>
  <input type="number" id="hamaca" placeholder="hamaca">

  <label for="totalSelect">Pagar&nbsp;(€):</label>
  <select id="totalSelect">
    <option value="16">16€</option>
    <option value="24">24€</option>
    <option value="32">32€</option>
    <option value="40">40€</option>
    <option value="48">48€</option>
    <option value="56">56</option>
    <option value="64">64€</option>
    <option value="72">72€</option>
    <option value="80">80€</option>
  </select>
  <input type="number" id="totalManual" placeholder="A Pagar" step="0.01">

  <label for="recibidoSelect">Recibido&nbsp;(€):</label>
  <select id="recibidoSelect">
    <option value="20">20€</option>
    <option value="30">30€</option>
    <option value="40">40€</option>
    <option value="50">50€</option>
    <option value="60">60€</option>
    <option value="70">70€</option>
    <option value="80">80€</option>
    <option value="90">90€</option>
    <option value="100">100€</option>
  </select>
  <input type="number" id="recibidoManual" placeholder="Entregado" step="0.01">

  <label for="pago">Método:</label>
  <select id="pago">
    <option value="efectivo">Efectivo</option>
    <option value="tarjeta">Tarjeta</option>
  </select>

  <button onclick="calcularCambio()">Calcular</button>

  <div class="cambio" id="resultado"></div>

  <div class="registro">
    <h4>Registro Total <span class="fecha" id="fecha"></span></h4>
    <p>Efectivo acumulado: €<span id="totalEfectivo">0.00</span></p>
    <p>Tarjeta acumulado: €<span id="totalTarjeta">0.00</span></p>
    <p><strong>Total general: €<span id="totalGeneral">0.00</span></strong></p>

    <button id="mostrarHistorial" onclick="toggleHistorial()">Mostrar Historial</button>

    <div id="historialContainer">
      <h4>Historial de pagos:</h4>
      <ul id="historial"></ul>
    </div>

    <!-- Botones debajo -->
    <div class="button-container">
      <button onclick="descargarHistorial()">Descargar historial resumen(CSV)</button>
      <button onclick="reiniciarCalculadora()">Reiniciar calculadora</button>
      <button onclick="procesarDevolucion()">Devolución</button> 
      <button onclick="descargarLog()">Log</button><!-- Botón de devolución debajo -->
    </div>
  </div>
</div>
<!-- Scripts personalizados -->
<script src="./script.js"></script>
<script type="module" src="./firebase-sync.js"></script>

<!-- Menú contextual de colores -->
<div class="color-context-menu" id="colorContextMenu">
  <div class="color-option step1" data-step="1"></div>
  <div class="color-option step2" data-step="2"></div>
  <div class="color-option step3" data-step="3"></div>
  <div class="color-option step4" data-step="4"></div>
  <div class="color-option step5" data-step="5"></div>
  <div class="color-option step6" data-step="6"></div>
</div>

</body>
</html>
